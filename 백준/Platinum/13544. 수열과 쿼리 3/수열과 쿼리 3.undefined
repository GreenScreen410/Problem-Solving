#include <bits/stdc++.h>
#include <ext/pb_ds/assoc_container.hpp>
#include <ext/pb_ds/tree_policy.hpp>
using namespace std;
using namespace __gnu_pbds;
typedef tree<pair<int, int>, null_type, less<pair<int, int>>, rb_tree_tag, tree_order_statistics_node_update> ordered_set;

struct FenwickPBDS {
  int n;
  vector<ordered_set> tree;

  FenwickPBDS(int n) : n(n), tree(n + 1) {}

  void init(int i, int v) {
    for (int idx = i; idx <= n; idx += idx & -idx) {
      tree[idx].insert({v, i});
    }
  }

  int sum(int i, int k) {
    int res = 0;
    for (int idx = i; idx > 0; idx -= idx & -idx) {
      res += tree[idx].size() - tree[idx].order_of_key({k, 2e9});
    }
    return res;
  }

  int query(int l, int r, int k) {
    return sum(r, k) - sum(l - 1, k);
  }
};

int main() {
  ios_base::sync_with_stdio(false);
  cin.tie(NULL);

  int n;
  if (!(cin >> n)) return 0;

  FenwickPBDS fenwick(n);
  for (int i = 1; i <= n; i++) {
    int x;
    cin >> x;
    fenwick.init(i, x);
  }

  int m;
  cin >> m;

  int res = 0;
  while (m--) {
    int a, b, c;
    cin >> a >> b >> c;

    int i = a ^ res;
    int j = b ^ res;
    int k = c ^ res;

    res = fenwick.query(i, j, k);
    cout << res << "\n";
  }
  
  return 0;
}